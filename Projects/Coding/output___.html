<!DOCTYPE html> ###
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
    <link rel="stylesheet" href="../../te.css">
    <title>c</title>

</head>
<body style="align-items: baseline">
<h2 style="text-align: center; align-self: center">Pandas Article 1</h2>
<p>Pandas is going to be understood through an example from daily time
series data. Note that this article/these articles will only look at the most relevant aspects of Pandas as related to time series analysis and is not a comprehensive review of all possible aspects. First, there will be data, closing prices to be precise,
extracted from various stocks with the yahoo finance api and then
shown.</p>
<pre><code>import yfinance as yf

stock_list = [&#39;ORLY&#39;, &#39;MAA&#39;, &#39;MDLZ&#39;, &#39;CVS&#39;, &#39;CHTR&#39;, &#39;SYK&#39;, &#39;POOL&#39;, &#39;CMG&#39;, &#39;CHD&#39;, &#39;MMM&#39;]  
df = yfinance.download(stock_example)[&#39;Close&#39;]
print(df)</code></pre>
<p>This prints</p>
<pre><code style="text-wrap: nowrap">
    Ticker            CHD        CHTR        CMG        CVS         MAA       MDLZ         MMM        ORLY        POOL         SYK
    Date                                                                                                                          
    2025-08-06  92.205315  262.040009  42.689999  63.520000  140.610001  62.070000  150.126343  104.440002  308.390015  374.940002
    2025-08-07  92.334900  258.779999  42.689999  63.580002  142.149994  62.400002  151.042114  103.470001  307.473511  376.369995
    2025-08-08  90.630348  256.570007  41.439999  65.540001  140.479996  61.830002  152.594940  103.330002  304.524658  377.579987
    2025-08-11  91.367996  258.769989  41.619999  64.879997  138.479996  61.560001  154.595688  103.599998  305.490997  376.670013
    2025-08-12  91.956116  263.100006  42.830002  65.510002  138.380005  61.389999  157.124008  101.889999  311.667572  376.609985
    2025-08-13  93.391533  269.000000  43.480000  65.900002  139.770004  62.189999  159.463196  102.639999  329.480011  378.950012
    2025-08-14  92.305000  263.200012  43.169998  66.730003  140.029999  61.459999  155.929520  101.500000  326.089996  378.519989
    2025-08-15  92.480003  267.799988  44.040001  68.599998  140.899994  62.080002  151.689117  101.540001  321.750000  381.910004
    2025-08-18  92.800003  266.809998  43.380001  70.169998  140.059998  61.840000  152.156952  101.389999  316.079987  381.609985
    2025-08-19  94.059998  267.010010  43.250000  70.970001  142.399994  62.660000  153.630142  103.059998  324.779999  389.940002
    2025-08-20  94.910004  266.619995  43.070000  70.820000  142.360001  63.169998  154.038269  104.000000  314.950012  391.869995
    2025-08-21  94.959999  267.980011  42.910000  71.430000  141.009995  62.939999  153.669968  102.870003  308.630005  384.829987
    2025-08-22  95.019997  277.579987  43.639999  71.300003  143.029999  63.410000  157.990005  102.309998  323.730011  394.220001
    2025-08-25  92.750000  273.440002  42.750000  71.209999  142.029999  61.959999  155.850006  102.470001  321.429993  390.880005
    2025-08-26  92.379997  266.670013  42.520000  71.550003  142.619995  62.049999  156.570007  103.180000  318.380005  394.329987
    2025-08-27  93.029999  269.149994  42.650002  71.930000  144.419998  61.759998  156.529999  104.050003  317.850006  393.149994
    2025-08-28  92.089996  263.630005  42.410000  72.139999  144.130005  61.279999  157.559998  103.989998  314.970001  389.670013
    2025-08-29  93.160004  265.579987  42.139999  73.150002  145.820007  61.439999  155.529999  103.680000  310.709991  391.410004
    2025-09-02  93.250000  264.420013  41.750000  74.089996  142.300003  61.790001  154.270004  103.190002  305.070007  389.940002
    2025-09-03  93.279999  261.220001  41.790001  73.320000  143.410004  61.299999  152.000000  103.839996  304.739990  388.559998
    2025-09-04  95.230003  259.510010  41.410000  73.690002  144.000000  60.900002  155.520004  105.040001  315.799988  394.339996
    2025-09-05  95.800003  261.500000  41.060001  73.779999  145.399994  61.740002  155.300003  104.839996  333.089996  392.309998</code></pre>
<p>Note the results are shown as a dataframe object.</p>
<p>Dataframe indexing works as follows: There are two main ways to
index, position based and label based indices. Column labels are the
direct access labels, meaning for example</p>
<pre><code>close_prices = df[&#39;CHD&#39;]
print(close_prices)</code></pre>
<p>returns the column of the ‘MO’ prices</p>
<pre><code>    Date
    2025-08-06    92.205315
    2025-08-07    92.334900
    2025-08-08    90.630348
    2025-08-11    91.367996
    2025-08-12    91.956116
    2025-08-13    93.391533
    2025-08-14    92.305000
    2025-08-15    92.480003
    2025-08-18    92.800003
    2025-08-19    94.059998
    2025-08-20    94.910004
    2025-08-21    94.959999
    2025-08-22    95.019997
    2025-08-25    92.750000
    2025-08-26    92.379997
    2025-08-27    93.029999
    2025-08-28    92.089996
    2025-08-29    93.160004
    2025-09-02    93.250000
    2025-09-03    93.279999
    2025-09-04    95.230003
    2025-09-05    95.800003</code></pre>
<p><code>loc</code> is used for index based accessing meaning for
example</p>
<pre><code>print(df.loc[&#39;2025-08-28&#39;,&#39;CHD&#39;])</code></pre>
<p>returns the value at that horizontal label and the vertical column
label</p>
<pre><code>    92.08999633789062</code></pre>
<p>Note the general format
<code>dataframe.loc[horizontal_label,vertical_label]</code></p>
<p><code>iloc</code> is used for position based accessing meaning for
example</p>
<pre><code>print(df.iloc[16,0])</code></pre>
<p>prints or accesses the same value as the previous operation. Note the
general format
<code>dataframe.iloc[horizontal_position,vertical_position]</code></p>
<p>There are also important properties for dataframe objects. The
columns of a dataframe can be obtained as for example</p>
<pre><code>print(df.columns)</code></pre>
<p>returns the columns of a dataframe as an index object</p>
<pre><code>    Index([&#39;CHD&#39;, &#39;CHTR&#39;, &#39;CMG&#39;, &#39;CVS&#39;, &#39;MAA&#39;, &#39;MDLZ&#39;, &#39;MMM&#39;, &#39;ORLY&#39;, &#39;POOL&#39;,
           &#39;SYK&#39;],
          dtype=&#39;object&#39;, name=&#39;Ticker&#39;)</code></pre>
<p>The index of a dataframe can be obtained</p>
<pre><code>print(df.index)</code></pre>
<p>returns an index object of the actual indices</p>
<pre><code>    DatetimeIndex([&#39;2025-08-06&#39;, &#39;2025-08-07&#39;, &#39;2025-08-08&#39;, &#39;2025-08-11&#39;,
                   &#39;2025-08-12&#39;, &#39;2025-08-13&#39;, &#39;2025-08-14&#39;, &#39;2025-08-15&#39;,
                   &#39;2025-08-18&#39;, &#39;2025-08-19&#39;, &#39;2025-08-20&#39;, &#39;2025-08-21&#39;,
                   &#39;2025-08-22&#39;, &#39;2025-08-25&#39;, &#39;2025-08-26&#39;, &#39;2025-08-27&#39;,
                   &#39;2025-08-28&#39;, &#39;2025-08-29&#39;, &#39;2025-09-02&#39;, &#39;2025-09-03&#39;,
                   &#39;2025-09-04&#39;, &#39;2025-09-05&#39;],
                  dtype=&#39;datetime64[ns]&#39;, name=&#39;Date&#39;, freq=None)</code></pre>
<p>Note the index objects can be easily cast as a list</p>
<pre><code>print(list(df.columns))
print(list(df.index))</code></pre>
<p>returning</p>
<pre><code>    [&#39;CHD&#39;, &#39;CHTR&#39;, &#39;CMG&#39;, &#39;CVS&#39;, &#39;MAA&#39;, &#39;MDLZ&#39;, &#39;MMM&#39;, &#39;ORLY&#39;, &#39;POOL&#39;,
           &#39;SYK&#39;]
    [Timestamp(&#39;2025-08-06 00:00:00&#39;), Timestamp(&#39;2025-08-07 00:00:00&#39;), Timestamp(&#39;2025-08-08 00:00:00&#39;), Timestamp(&#39;2025-08-11 00:00:00&#39;), Timestamp(&#39;2025-08-12 00:00:00&#39;), Timestamp(&#39;2025-08-13 00:00:00&#39;), Timestamp(&#39;2025-08-14 00:00:00&#39;), Timestamp(&#39;2025-08-15 00:00:00&#39;), Timestamp(&#39;2025-08-18 00:00:00&#39;), Timestamp(&#39;2025-08-19 00:00:00&#39;), Timestamp(&#39;2025-08-20 00:00:00&#39;), Timestamp(&#39;2025-08-21 00:00:00&#39;), Timestamp(&#39;2025-08-22 00:00:00&#39;), Timestamp(&#39;2025-08-25 00:00:00&#39;), Timestamp(&#39;2025-08-26 00:00:00&#39;), Timestamp(&#39;2025-08-27 00:00:00&#39;), Timestamp(&#39;2025-08-28 00:00:00&#39;), Timestamp(&#39;2025-08-29 00:00:00&#39;), Timestamp(&#39;2025-09-02 00:00:00&#39;), Timestamp(&#39;2025-09-03 00:00:00&#39;), Timestamp(&#39;2025-09-04 00:00:00&#39;), Timestamp(&#39;2025-09-05 00:00:00&#39;)]  </code></pre>
<p>The size of a dataframe can be obtained with the shape property</p>
<pre><code>print(df.shape)</code></pre>
<p>which returns a tuple</p>
<pre><code>    (22, 10)</code></pre>
<p>of the length of the number of horizontal labels, and the length of
the columns</p>
<p>The total size</p>
<pre><code>print(df.shape[0]*df.shape[1])
print(df.size)</code></pre>
<p>can be obtained in both ways</p>
<pre><code>    220
    220</code></pre>
<p>Important dataframe operations include the following To get the
entire horizontal line at an index</p>
<pre><code>print(df.loc[&#39;2025-08-29&#39;])
print(df.iloc[-5])</code></pre>
<p>both return</p>
<pre><code>    Ticker
    CHD      93.160004
    CHTR    265.579987
    CMG      42.139999
    CVS      73.150002
    MAA     145.820007
    MDLZ     61.439999
    MMM     155.529999
    ORLY    103.680000
    POOL    310.709991
    SYK     391.410004
    Ticker
    CHD      93.160004
    CHTR    265.579987
    CMG      42.139999
    CVS      73.150002
    MAA     145.820007
    MDLZ     61.439999
    MMM     155.529999
    ORLY    103.680000
    POOL    310.709991
    SYK     391.410004</code></pre>
<p>the entire corresponding line as a series in its own right To get
multiple columns, the format</p>
<pre><code>print(df[df.columns[0:2]])</code></pre>
<p>is allowed for example</p>
<pre><code>    Ticker            CHD        CHTR
    Date                             
    2025-08-06  92.205315  262.040009
    2025-08-07  92.334900  258.779999
    2025-08-08  90.630348  256.570007
    2025-08-11  91.367996  258.769989
    2025-08-12  91.956116  263.100006
    2025-08-13  93.391533  269.000000
    2025-08-14  92.305000  263.200012
    2025-08-15  92.480003  267.799988
    2025-08-18  92.800003  266.809998
    2025-08-19  94.059998  267.010010
    2025-08-20  94.910004  266.619995
    2025-08-21  94.959999  267.980011
    2025-08-22  95.019997  277.579987
    2025-08-25  92.750000  273.440002
    2025-08-26  92.379997  266.670013
    2025-08-27  93.029999  269.149994
    2025-08-28  92.089996  263.630005
    2025-08-29  93.160004  265.579987
    2025-09-02  93.250000  264.420013
    2025-09-03  93.279999  261.220001
    2025-09-04  95.230003  259.510010
    2025-09-05  95.800003  261.500000</code></pre>
<p>to get the first two columns Note this is the same</p>
<pre><code>print(df.loc[:,df.columns[0:2]])</code></pre>
<p>where the <code>:</code> is used to indicate all To get the
horizontal matching list of values for a given range</p>
<pre><code>print(df.loc[df.index[0:2]])</code></pre>
<p>returns the first two horizontal values Note this is the same as</p>
<pre><code>    Ticker            CHD        CHTR        CMG        CVS         MAA       MDLZ         MMM        ORLY        POOL         SYK
    Date                                                                                                                          
    2025-08-06  92.205315  262.040009  42.689999  63.520000  140.610001  62.070000  150.126343  104.440002  308.390015  374.940002
    2025-08-07  92.334900  258.779999  42.689999  63.580002  142.149994  62.400002  151.042114  103.470001  307.473511  376.369995
print(df.loc[df.index[0:2]])  
print(df.loc[df.index[0:2],:])</code></pre>
<p>Note that these are the same</p>
<pre><code>print(df.loc[df.index[0:2]])
print(df.iloc[0:2])</code></pre>
<p>and also</p>
<pre><code>print(df.loc[:,df.columns[0:2]])
print(df.iloc)</code></pre>
<p>If arrays are easier to use all the values can be found as an array
as</p>
<pre><code>print(df.values)</code></pre>
<p>To get all the values satisfying a Boolean condition</p>
<pre><code>print(df &gt; 200)</code></pre>
<p>returns a Boolean valued dataframe of the condition of the value at
each point</p>
<pre><code>    Ticker        CHD  CHTR    CMG    CVS    MAA   MDLZ    MMM   ORLY  POOL   SYK
    Date                                                                         
    2025-08-06  False  True  False  False  False  False  False  False  True  True
    2025-08-07  False  True  False  False  False  False  False  False  True  True
    2025-08-08  False  True  False  False  False  False  False  False  True  True
    2025-08-11  False  True  False  False  False  False  False  False  True  True
    2025-08-12  False  True  False  False  False  False  False  False  True  True
    2025-08-13  False  True  False  False  False  False  False  False  True  True
    2025-08-14  False  True  False  False  False  False  False  False  True  True
    2025-08-15  False  True  False  False  False  False  False  False  True  True
    2025-08-18  False  True  False  False  False  False  False  False  True  True
    2025-08-19  False  True  False  False  False  False  False  False  True  True
    2025-08-20  False  True  False  False  False  False  False  False  True  True
    2025-08-21  False  True  False  False  False  False  False  False  True  True
    2025-08-22  False  True  False  False  False  False  False  False  True  True
    2025-08-25  False  True  False  False  False  False  False  False  True  True
    2025-08-26  False  True  False  False  False  False  False  False  True  True
    2025-08-27  False  True  False  False  False  False  False  False  True  True
    2025-08-28  False  True  False  False  False  False  False  False  True  True
    2025-08-29  False  True  False  False  False  False  False  False  True  True
    2025-09-02  False  True  False  False  False  False  False  False  True  True
    2025-09-03  False  True  False  False  False  False  False  False  True  True
    2025-09-04  False  True  False  False  False  False  False  False  True  True
    2025-09-05  False  True  False  False  False  False  False  False  True  True</code></pre>
<p>Note the idea of Boolean masking from Pandas.series can be extended
to here</p>
<pre><code>print(df[df &gt; 200])</code></pre>
<p>returns all the values where this is matched</p>
<pre><code>    Ticker      CHD        CHTR  CMG  CVS  MAA  MDLZ  MMM  ORLY        POOL         SYK
    Date                                                                               
    2025-08-06  NaN  262.040009  NaN  NaN  NaN   NaN  NaN   NaN  308.390015  374.940002
    2025-08-07  NaN  258.779999  NaN  NaN  NaN   NaN  NaN   NaN  307.473511  376.369995
    2025-08-08  NaN  256.570007  NaN  NaN  NaN   NaN  NaN   NaN  304.524658  377.579987
    2025-08-11  NaN  258.769989  NaN  NaN  NaN   NaN  NaN   NaN  305.490997  376.670013
    2025-08-12  NaN  263.100006  NaN  NaN  NaN   NaN  NaN   NaN  311.667572  376.609985
    2025-08-13  NaN  269.000000  NaN  NaN  NaN   NaN  NaN   NaN  329.480011  378.950012
    2025-08-14  NaN  263.200012  NaN  NaN  NaN   NaN  NaN   NaN  326.089996  378.519989
    2025-08-15  NaN  267.799988  NaN  NaN  NaN   NaN  NaN   NaN  321.750000  381.910004
    2025-08-18  NaN  266.809998  NaN  NaN  NaN   NaN  NaN   NaN  316.079987  381.609985
    2025-08-19  NaN  267.010010  NaN  NaN  NaN   NaN  NaN   NaN  324.779999  389.940002
    2025-08-20  NaN  266.619995  NaN  NaN  NaN   NaN  NaN   NaN  314.950012  391.869995
    2025-08-21  NaN  267.980011  NaN  NaN  NaN   NaN  NaN   NaN  308.630005  384.829987
    2025-08-22  NaN  277.579987  NaN  NaN  NaN   NaN  NaN   NaN  323.730011  394.220001
    2025-08-25  NaN  273.440002  NaN  NaN  NaN   NaN  NaN   NaN  321.429993  390.880005
    2025-08-26  NaN  266.670013  NaN  NaN  NaN   NaN  NaN   NaN  318.380005  394.329987
    2025-08-27  NaN  269.149994  NaN  NaN  NaN   NaN  NaN   NaN  317.850006  393.149994
    2025-08-28  NaN  263.630005  NaN  NaN  NaN   NaN  NaN   NaN  314.970001  389.670013
    2025-08-29  NaN  265.579987  NaN  NaN  NaN   NaN  NaN   NaN  310.709991  391.410004
    2025-09-02  NaN  264.420013  NaN  NaN  NaN   NaN  NaN   NaN  305.070007  389.940002
    2025-09-03  NaN  261.220001  NaN  NaN  NaN   NaN  NaN   NaN  304.739990  388.559998
    2025-09-04  NaN  259.510010  NaN  NaN  NaN   NaN  NaN   NaN  315.799988  394.339996
    2025-09-05  NaN  261.500000  NaN  NaN  NaN   NaN  NaN   NaN  333.089996  392.309998</code></pre>
<p>and to get only the points where this is true and dropping all the
<code>na</code> values</p>
<pre><code>print(df[df &gt; 200].fillna(0))</code></pre>
<p>where all the values are filled by whichever dummy value</p>
<pre><code>    Ticker      CHD        CHTR  CMG  CVS  MAA  MDLZ  MMM  ORLY        POOL         SYK
    Date                                                                               
    2025-08-06  0.0  262.040009  0.0  0.0  0.0   0.0  0.0   0.0  308.390015  374.940002
    2025-08-07  0.0  258.779999  0.0  0.0  0.0   0.0  0.0   0.0  307.473511  376.369995
    2025-08-08  0.0  256.570007  0.0  0.0  0.0   0.0  0.0   0.0  304.524658  377.579987
    2025-08-11  0.0  258.769989  0.0  0.0  0.0   0.0  0.0   0.0  305.490997  376.670013
    2025-08-12  0.0  263.100006  0.0  0.0  0.0   0.0  0.0   0.0  311.667572  376.609985
    2025-08-13  0.0  269.000000  0.0  0.0  0.0   0.0  0.0   0.0  329.480011  378.950012
    2025-08-14  0.0  263.200012  0.0  0.0  0.0   0.0  0.0   0.0  326.089996  378.519989
    2025-08-15  0.0  267.799988  0.0  0.0  0.0   0.0  0.0   0.0  321.750000  381.910004
    2025-08-18  0.0  266.809998  0.0  0.0  0.0   0.0  0.0   0.0  316.079987  381.609985
    2025-08-19  0.0  267.010010  0.0  0.0  0.0   0.0  0.0   0.0  324.779999  389.940002
    2025-08-20  0.0  266.619995  0.0  0.0  0.0   0.0  0.0   0.0  314.950012  391.869995
    2025-08-21  0.0  267.980011  0.0  0.0  0.0   0.0  0.0   0.0  308.630005  384.829987
    2025-08-22  0.0  277.579987  0.0  0.0  0.0   0.0  0.0   0.0  323.730011  394.220001
    2025-08-25  0.0  273.440002  0.0  0.0  0.0   0.0  0.0   0.0  321.429993  390.880005
    2025-08-26  0.0  266.670013  0.0  0.0  0.0   0.0  0.0   0.0  318.380005  394.329987
    2025-08-27  0.0  269.149994  0.0  0.0  0.0   0.0  0.0   0.0  317.850006  393.149994
    2025-08-28  0.0  263.630005  0.0  0.0  0.0   0.0  0.0   0.0  314.970001  389.670013
    2025-08-29  0.0  265.579987  0.0  0.0  0.0   0.0  0.0   0.0  310.709991  391.410004
    2025-09-02  0.0  264.420013  0.0  0.0  0.0   0.0  0.0   0.0  305.070007  389.940002
    2025-09-03  0.0  261.220001  0.0  0.0  0.0   0.0  0.0   0.0  304.739990  388.559998
    2025-09-04  0.0  259.510010  0.0  0.0  0.0   0.0  0.0   0.0  315.799988  394.339996
    2025-09-05  0.0  261.500000  0.0  0.0  0.0   0.0  0.0   0.0  333.089996  392.309998</code></pre>
<p>To get the total number of points where a Boolean is true Boolean
addition can be done with the method</p>
<pre><code>print((df &gt; 200).sum().sum())</code></pre>
<p>which returns the total number of points where the Boolean is
true</p>
<pre><code>    66</code></pre>
<p>Note the first sum does column wise summation for a df</p>
</body>
</html>
